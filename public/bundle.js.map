{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/abstract-component.js","webpack:///./src/components/content-board.js","webpack:///./src/components/film-card.js","webpack:///./src/components/film-popup.js","webpack:///./src/components/main-list-films.js","webpack:///./src/components/most-commented-films.js","webpack:///./src/components/profile-button.js","webpack:///./src/components/show-more-button.js","webpack:///./src/components/site-navigation.js","webpack:///./src/components/sort.js","webpack:///./src/components/top-rate-films.js","webpack:///./src/const.js","webpack:///./src/controllers/page-controller.js","webpack:///./src/main.js","webpack:///./src/mock/films.js","webpack:///./src/mock/filters.js","webpack:///./src/mock/user-rank.js","webpack:///./src/utils/common.js","webpack:///./src/utils/render.js"],"names":[],"mappings":";QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAiD;;AAElC;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB,sEAAa;AACnC;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC1BA;AAAA;AAAA;AAAwD;;AAExD;AACA;AACA;AACA;AACA;AACA;;AAEe,2BAA2B,8DAAiB;AAC3D;AACA;AACA;AACA;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAkD;AACM;;AAExD;AACA,SAAS,oEAAoE;;AAE7E,2BAA2B,uEAAc;AACzC;;AAEA;AACA;AACA,qCAAqC,KAAK;AAC1C,qCAAqC,OAAO;AAC5C;AACA,wCAAwC,aAAa;AACrD,4CAA4C,iBAAiB;AAC7D,yCAAyC,UAAU;AACnD;AACA,mCAAmC,IAAI;AACvC,0CAA0C,YAAY;AACtD,uCAAuC,cAAc;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,mBAAmB,8DAAiB;AACnD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC5CA;AAAA;AAAA;AAAA;AAA8D;AACN;;AAExD;AACA;AACA,gDAAgD,MAAM;AACtD,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,yCAAyC,GAAG;AAC5C,yCAAyC,YAAY;AACrD;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA,qCAAqC,gBAAgB;AACrD;AACA;AACA,kDAAkD,aAAa;AAC/D;AACA,yDAAyD,eAAe;AACxE,sDAAsD,mEAAU,eAAe;AAC/E;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA,SAAS,6GAA6G;;AAEtH;;AAEA;AACA;AACA;AACA;AACA,uBAAuB,aAAa,GAAG,cAAc,GAAG,aAAa;AACrE,eAAe,uEAAc;AAC7B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4EAA4E,IAAI;;AAEhF,6CAA6C,IAAI;AACjD;;AAEA;AACA;AACA;AACA,oDAAoD,KAAK;AACzD,sEAAsE,KAAK;AAC3E;;AAEA;AACA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA,kBAAkB;AAClB;;AAEA;AACA,kBAAkB;AAClB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,2GAA2G,cAAc;;AAEzH;AACA,gBAAgB;AAChB;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,wBAAwB,8DAAiB;AACxD;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACpKA;AAAA;AAAA;AAAwD;;AAExD;AACA;;AAEA;AACA;AACA,qCAAqC,oCAAoC,IAAI,QAAQ;AACrF,QAAQ;AACR;AACA;AACA;AACA;AACA;;AAEe,4BAA4B,8DAAiB;AAC5D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAwD;;AAExD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe,4BAA4B,8DAAiB;AAC5D;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAwD;;AAExD;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,mCAAmC,KAAK;AACxC;AACA;AACA;AACA;;AAEe,4BAA4B,8DAAiB;AAC5D;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAwD;;AAExD;AACA;AACA;AACA;AACA;;AAEe,6BAA6B,8DAAiB;AAC7D;AACA;AACA;AACA;;;;;;;;;;;;;ACZA;AAAA;AAAA;AAAA;AAAA;AAAwD;AACpB;AACyB;;AAE7D;AACA;AACA,uBAAuB,YAAY,iCAAiC,mDAAmD,IAAI,YAAY,GAAG,yDAAyD,aAAa,cAAc;AAC9N,GAAG;AACH;;AAEA;AACA,sDAAsD,kFAAyB,CAAC,iDAAO;;AAEvF;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;;AAEe,6BAA6B,8DAAiB;AAC7D;AACA;AACA;AACA;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAwD;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,mBAAmB,8DAAiB;AACnD;AACA;AACA;AACA;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAwD;;AAExD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEe,sBAAsB,8DAAiB;AACtD;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAEM;AACP;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA,CAAC;;AAEM;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;;AAEA;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAsE;AACF;AACY;AACrB;AACa;AACX;AACX;;AAElD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,MAAM,+DAAM;AACZ;AACA;AACA;;AAEA,gCAAgC,gEAAiB;AACjD,iCAAiC,iEAAkB;;AAEnD;AACA;;AAEA;AACA;AACA,MAAM,+DAAM;AACZ,KAAK;AACL,IAAI,+DAAM;AACV;AACA,GAAG;;AAEH,EAAE,+DAAM;AACR;;AAEe;AACf;AACA;;AAEA,uCAAuC,sEAAsB;AAC7D,sCAAsC,qEAAqB;AAC3D,4CAA4C,2EAA2B;AACvE,wCAAwC,uEAAuB;AAC/D;;AAEA;AACA;;AAEA;AACA,MAAM,+DAAM,gBAAgB,sEAAsB;;AAElD;AACA;;AAEA,uCAAuC,sEAAsB;AAC7D,IAAI,+DAAM;;AAEV;;AAEA;;AAEA;;AAEA;;AAEA,wCAAwC,uEAAuB;;AAE/D,IAAI,+DAAM;;AAEV;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL,sCAAsC,qEAAqB;AAC3D,IAAI,+DAAM;;AAEV;;AAEA;;AAEA,4CAA4C,2EAA2B;AACvE,IAAI,+DAAM;;AAEV;;AAEA;AACA;AACA;;;;;;;;;;;;;ACtGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAoE;AACE;AACrB;AACiB;AACJ;AACT;AACH;AACT;;AAEzC;;AAEA;AACA;;AAEA,+DAAM,wBAAwB,qEAAsB,CAAC,2EAAgB;AACrE,+DAAM,sBAAsB,sEAAuB;AACnD,+DAAM,sBAAsB,2DAAa;;AAEzC,cAAc,wEAAiB;;AAE/B,2BAA2B,oEAAqB;AAChD,2BAA2B,uEAAc;;AAEzC,+DAAM;AACN;;;;;;;;;;;;;ACxBA;AAAA;AAAA;AAAA;AAAA;AAAgI;AACa;;AAE7I;AACA;AACA;AACA,YAAY,kFAAyB,CAAC,sDAAY;AAClD,eAAe,kFAAyB,CAAC,kDAAQ;AACjD,cAAc,kFAAyB,CAAC,yDAAe;AACvD,YAAY,sEAAa;AACzB;AACA,GAAG;AACH;;AAEO;AACP,eAAe,kFAAyB,CAAC,+CAAK;;AAE9C;AACA;AACA;AACA,YAAY,wEAAe;AAC3B;AACA,YAAY,wEAAe;AAC3B,aAAa,kFAAyB,CAAC,qDAAW;AAClD,YAAY,wEAAe;AAC3B,KAAK;AACL,cAAc,wEAAe;AAC7B,YAAY,0FAAiC,CAAC,gDAAM,EAAE,wEAAe;AACrE,iBAAiB,0FAAiC,CAAC,sDAAY,EAAE,wEAAe;AAChF,+BAA+B,wEAAe;AAC9C,SAAS,kFAAyB,CAAC,8CAAI;AACvC,cAAc,kFAAyB,CAAC,mDAAS;AACjD,aAAa,0FAAiC,CAAC,iDAAO;AACtD,YAAY,0FAAiC,CAAC,gDAAM;AACpD,aAAa,kFAAyB,CAAC,mDAAS;AAChD;AACA;;AAEO;AACP;AACA;;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAmD;;AAE5C;AACP;AACA;AACA;AACA;AACA,aAAa,wEAAe;AAC5B;AACA,GAAG;AACH;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAmD;;AAE5C,+BAA+B,wEAAe;;;;;;;;;;;;;ACFrD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;;AAEA,iBAAiB,WAAW;AAC5B;AACA;;AAEA;AACA;;AAEO;AACP;AACA;;AAEA,qBAAqB,MAAM;AAC3B,yBAAyB,QAAQ;;AAEjC,YAAY,MAAM,GAAG,QAAQ;AAC7B;;AAEO;AACP;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;;AAEO;AACP,2CAA2C,gBAAgB;AAC3D,+CAA+C,kBAAkB;;AAEjE,YAAY,mBAAmB,GAAG,gBAAgB,GAAG,eAAe,GAAG,MAAM,GAAG,QAAQ;AACxF;;AAEO;AACP;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/main.js\");\n","import {createElement} from '../utils/common.js';\n\nexport default class AbstractComponent {\n  constructor() {\n    if (new.target === AbstractComponent) {\n      throw new Error(`Can't instantiate AbstractComponent, only concrete one.`);\n    }\n\n    this._element = null;\n  }\n\n  getTemplate() {\n    throw new Error(`Abstract method not implemented: getTemplate`);\n  }\n\n  getElement() {\n    if (!this._element) {\n      this._element = createElement(this.getTemplate());\n    }\n\n    return this._element;\n  }\n\n  removeElement() {\n    this._element = null;\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst createSiteContentTemplate = () => {\n  return (\n    `<section class=\"films\">\n    </section>`\n  );\n};\n\nexport default class ContentBoard extends AbstractComponent {\n  getTemplate() {\n    return createSiteContentTemplate();\n  }\n}\n","import {formatDuration} from '../utils/common.js';\nimport AbstractComponent from './abstract-component.js';\n\nconst createFilmCardTemplate = (film) => {\n  const {name, src, rating, release, duration, genres, description, comments} = film;\n\n  const durationInFormat = formatDuration(duration);\n  const commentsCount = comments.length;\n\n  return (\n    `<article class=\"film-card\">\n      <h3 class=\"film-card__title\">${name}</h3>\n      <p class=\"film-card__rating\">${rating}</p>\n      <p class=\"film-card__info\">\n        <span class=\"film-card__year\">${release.year}</span>\n        <span class=\"film-card__duration\">${durationInFormat}</span>\n        <span class=\"film-card__genre\">${genres[0]}</span>\n      </p>\n      <img src=\"./images/posters/${src}\" alt=\"\" class=\"film-card__poster\">\n      <p class=\"film-card__description\">${description}</p>\n      <a class=\"film-card__comments\">${commentsCount} comments</a>\n      <form class=\"film-card__controls\">\n        <button class=\"film-card__controls-item button film-card__controls-item--add-to-watchlist\">Add to watchlist</button>\n        <button class=\"film-card__controls-item button film-card__controls-item--mark-as-watched\">Mark as watched</button>\n        <button class=\"film-card__controls-item button film-card__controls-item--favorite\">Mark as favorite</button>\n      </form>\n    </article>`\n  );\n};\n\nexport default class Film extends AbstractComponent {\n  constructor(film) {\n    super();\n\n    this._film = film;\n  }\n\n  getTemplate() {\n    return createFilmCardTemplate(this._film);\n  }\n\n  setPosterClickhandler(handler) {\n    this.getElement().querySelector(`.film-card__poster`).addEventListener(`click`, handler);\n  }\n}\n","import {formatDuration, formatDate} from '../utils/common.js';\nimport AbstractComponent from './abstract-component.js';\n\nconst createGenresMarkup = (genres) => {\n  return genres.map((genre) => {\n    return `<span class=\"film-details__genre\">${genre}</span>`;\n  }).join(`\\n`);\n};\n\nconst createDetailRowsMarkup = (details) => {\n  return Object.keys(details).map((it) => {\n    return (\n      `<tr class=\"film-details__row\">\n        <td class=\"film-details__term\">${it}</td>\n        <td class=\"film-details__cell\">${details[it]}</td>\n      </tr>`\n    );\n  }).join(`\\n`);\n};\n\nconst createCommentsMarkup = (comments) => {\n  return comments.map((comment) => {\n    return (\n      `<li class=\"film-details__comment\">\n        <span class=\"film-details__comment-emoji\">\n          <img src=\"./images/emoji/${comment.emotion}\" width=\"55\" height=\"55\" alt=\"emoji-smile\">\n        </span>\n        <div>\n          <p class=\"film-details__comment-text\">${comment.text}</p>\n          <p class=\"film-details__comment-info\">\n            <span class=\"film-details__comment-author\">${comment.author}</span>\n            <span class=\"film-details__comment-day\">${formatDate(comment.date)}</span>\n            <button class=\"film-details__comment-delete\">Delete</button>\n          </p>\n        </div>\n      </li>`\n    );\n  }).join(`\\n`);\n};\n\nconst createFilmPopupTemplate = (film) => {\n  const {name, src, rating, release, duration, genres, description, comments, age, director, writers, actors, country} = film;\n\n  const commentsCount = comments.length;\n\n  const details = {\n    'Director': director,\n    'Writers': writers.join(`, `),\n    'Actors': actors.join(`, `),\n    'Release Date': `${release.date} ${release.month} ${release.year}`,\n    'Runtime': formatDuration(duration),\n    'Country': country,\n    'Genres': createGenresMarkup(genres)\n  };\n\n  const detailRowsMarkup = createDetailRowsMarkup(details);\n  const commentsMarkup = createCommentsMarkup(comments);\n\n  return (\n    `<section class=\"film-details\">\n      <form class=\"film-details__inner\" action=\"\" method=\"get\">\n        <div class=\"form-details__top-container\">\n          <div class=\"film-details__close\">\n            <button class=\"film-details__close-btn\" type=\"button\">close</button>\n          </div>\n          <div class=\"film-details__info-wrap\">\n            <div class=\"film-details__poster\">\n              <img class=\"film-details__poster-img\" src=\"./images/posters/${src}\" alt=\"\">\n\n              <p class=\"film-details__age\">${age}+</p>\n            </div>\n\n            <div class=\"film-details__info\">\n              <div class=\"film-details__info-head\">\n                <div class=\"film-details__title-wrap\">\n                  <h3 class=\"film-details__title\">${name}</h3>\n                  <p class=\"film-details__title-original\">Original: ${name}</p>\n                </div>\n\n                <div class=\"film-details__rating\">\n                  <p class=\"film-details__total-rating\">${rating}</p>\n                </div>\n              </div>\n\n              <table class=\"film-details__table\">\n                ${detailRowsMarkup}\n              </table>\n\n              <p class=\"film-details__film-description\">\n                ${description}\n              </p>\n            </div>\n          </div>\n\n          <section class=\"film-details__controls\">\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watchlist\" name=\"watchlist\">\n            <label for=\"watchlist\" class=\"film-details__control-label film-details__control-label--watchlist\">Add to watchlist</label>\n\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"watched\" name=\"watched\">\n            <label for=\"watched\" class=\"film-details__control-label film-details__control-label--watched\">Already watched</label>\n\n            <input type=\"checkbox\" class=\"film-details__control-input visually-hidden\" id=\"favorite\" name=\"favorite\">\n            <label for=\"favorite\" class=\"film-details__control-label film-details__control-label--favorite\">Add to favorites</label>\n          </section>\n        </div>\n\n        <div class=\"form-details__bottom-container\">\n          <section class=\"film-details__comments-wrap\">\n            <h3 class=\"film-details__comments-title\">Comments <span class=\"film-details__comments-count\">${commentsCount}</span></h3>\n\n            <ul class=\"film-details__comments-list\">\n              ${commentsMarkup}\n            </ul>\n\n            <div class=\"film-details__new-comment\">\n              <div for=\"add-emoji\" class=\"film-details__add-emoji-label\"></div>\n\n              <label class=\"film-details__comment-label\">\n                <textarea class=\"film-details__comment-input\" placeholder=\"Select reaction below and write comment here\" name=\"comment\"></textarea>\n              </label>\n\n              <div class=\"film-details__emoji-list\">\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-smile\" value=\"smile\">\n                <label class=\"film-details__emoji-label\" for=\"emoji-smile\">\n                  <img src=\"./images/emoji/smile.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                </label>\n\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-sleeping\" value=\"sleeping\">\n                <label class=\"film-details__emoji-label\" for=\"emoji-sleeping\">\n                  <img src=\"./images/emoji/sleeping.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                </label>\n\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-puke\" value=\"puke\">\n                <label class=\"film-details__emoji-label\" for=\"emoji-puke\">\n                  <img src=\"./images/emoji/puke.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                </label>\n\n                <input class=\"film-details__emoji-item visually-hidden\" name=\"comment-emoji\" type=\"radio\" id=\"emoji-angry\" value=\"angry\">\n                <label class=\"film-details__emoji-label\" for=\"emoji-angry\">\n                  <img src=\"./images/emoji/angry.png\" width=\"30\" height=\"30\" alt=\"emoji\">\n                </label>\n              </div>\n            </div>\n          </section>\n        </div>\n      </form>\n    </section>`\n  );\n};\n\nexport default class FilmPopup extends AbstractComponent {\n  constructor(film) {\n    super();\n\n    this._film = film;\n  }\n\n  getTemplate() {\n    return createFilmPopupTemplate(this._film);\n  }\n\n  setCloseButtonClickHandler(handler) {\n    this.getElement().querySelector(`.film-details__close-btn`).addEventListener(`click`, handler);\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst createMainListFilmsTemplate = (isAnyFilms) => {\n  const heading = isAnyFilms ? `All movies. Upcoming` : `There are no movies in our database`;\n\n  return (\n    `<section class=\"films-list films-list--main\">\n      <h2 class=\"films-list__title ${isAnyFilms ? `visually-hidden` : ``}\">${heading}</h2>\n      ${isAnyFilms ?\n      `<div class=\"films-list__container\"></div>`\n      : ``}\n    </section>`\n  );\n};\n\nexport default class MainListFilms extends AbstractComponent {\n  constructor(isAnyFilms = true) {\n    super();\n\n    this._isAnyFilms = isAnyFilms;\n  }\n\n  getTemplate() {\n    return createMainListFilmsTemplate(this._isAnyFilms);\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst createMostCommentedTemplate = () => {\n  return (\n    `<section class=\"films-list--extra films-list--most\">\n      <h2 class=\"films-list__title\">Most commented</h2>\n\n      <div class=\"films-list__container\">\n      </div>\n    </section>`\n  );\n};\n\nexport default class MostCommented extends AbstractComponent {\n  getTemplate() {\n    return createMostCommentedTemplate();\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst getRank = (watchedFilmCount) => {\n  let rank;\n\n  switch (true) {\n    case watchedFilmCount === 0:\n      rank = ``;\n      break;\n\n    case watchedFilmCount >= 1 && watchedFilmCount <= 10:\n      rank = `novice`;\n      break;\n\n    case watchedFilmCount >= 11 && watchedFilmCount <= 20:\n      rank = `fan`;\n      break;\n\n    default:\n      rank = `movie buff`;\n  }\n\n  return rank;\n};\n\nconst createProfileButtonTemplate = (watchedFilmCount) => {\n  const rank = getRank(watchedFilmCount);\n\n  return (\n    `<section class=\"header__profile profile\">\n      <p class=\"profile__rating\">${rank}</p>\n      <img class=\"profile__avatar\" src=\"images/bitmap@2x.png\" alt=\"Avatar\" width=\"35\" height=\"35\">\n    </section>`\n  );\n};\n\nexport default class ProfileButton extends AbstractComponent {\n  constructor(watchedFilmCount) {\n    super();\n\n    this._watchedFilmCount = watchedFilmCount;\n  }\n\n  getTemplate() {\n    return createProfileButtonTemplate(this._watchedFilmCount);\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst createShowMoreButtonTemplate = () => {\n  return (\n    `<button class=\"films-list__show-more\">Show more</button>`\n  );\n};\n\nexport default class ShowMoreButton extends AbstractComponent {\n  getTemplate() {\n    return createShowMoreButtonTemplate();\n  }\n}\n","import AbstractComponent from './abstract-component.js';\nimport {FILTERS} from '../const.js';\nimport {generateNavigationFilters} from '../mock/filters.js';\n\nconst createNavigationFiltersMarkup = (filters) => {\n  return filters.map((filter, index) => {\n    return `<a href=\"${filter.link}\" class=\"main-navigation__item ${index === 0 ? `main-navigation__item--active` : ``}\">${filter.name} ${index > 0 ? `<span class=\"main-navigation__item-count\">${filter.count}</span>` : ``}</a>`;\n  }).join(`\\n`);\n};\n\nconst createSiteNavigationTemplate = () => {\n  const filtersMarkup = createNavigationFiltersMarkup(generateNavigationFilters(FILTERS));\n\n  return (\n    `<nav class=\"main-navigation\">\n      <div class=\"main-navigation__items\">\n        ${filtersMarkup}\n      </div>\n      <a href=\"#stats\" class=\"main-navigation__additional\">Stats</a>\n    </nav>`\n  );\n};\n\nexport default class SiteNavigation extends AbstractComponent {\n  getTemplate() {\n    return createSiteNavigationTemplate();\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst createSiteSortTemplate = () => {\n  return (\n    `<ul class=\"sort\">\n      <li><a href=\"#\" class=\"sort__button sort__button--active\">Sort by default</a></li>\n      <li><a href=\"#\" class=\"sort__button\">Sort by date</a></li>\n      <li><a href=\"#\" class=\"sort__button\">Sort by rating</a></li>\n    </ul>`\n  );\n};\n\nexport default class Sort extends AbstractComponent {\n  getTemplate() {\n    return createSiteSortTemplate();\n  }\n}\n","import AbstractComponent from './abstract-component.js';\n\nconst createTopRateTemplate = () => {\n  return (\n    `<section class=\"films-list--extra films-list--top\">\n      <h2 class=\"films-list__title\">Top rated</h2>\n\n      <div class=\"films-list__container\">\n      </div>\n    </section>`\n  );\n};\n\nexport default class TopRate extends AbstractComponent {\n  getTemplate() {\n    return createTopRateTemplate();\n  }\n}\n","export const FILTERS = [{\n  name: `All movies`,\n  link: `#all`\n}, {\n  name: `Watchlist`,\n  link: `#watchlist`\n}, {\n  name: `History`,\n  link: `#history`\n}, {\n  name: `Favorites`,\n  link: `#favorites`\n}];\n\nexport const FILMS = [{\n  name: `Made for Each Other`,\n  src: `made-for-each-other.png`\n}, {\n  name: `Popeye the Sailor Meets Sindbad the Sailor`,\n  src: `popeye-meets-sinbad.png`\n}, {\n  name: `Sagebrush Trail`,\n  src: `sagebrush-trail.jpg`\n}, {\n  name: `Santa Claus Conquers the Martians`,\n  src: `santa-claus-conquers-the-martians.jpg`\n}, {\n  name: `The Dance of Life`,\n  src: `the-dance-of-life.jpg`\n}, {\n  name: `The Great Flamarion`,\n  src: `the-great-flamarion.jpg`\n}, {\n  name: `The Man with the Golden Arm`,\n  src: `the-man-with-the-golden-arm.jpg`\n}];\n\nexport const DESCRIPTIONS = [\n  `Lorem ipsum dolor sit amet, consectetur adipiscing elit.`,\n  `Cras aliquet varius magna, non porta ligula feugiat eget.`,\n  `Fusce tristique felis at fermentum pharetra.`,\n  `Aliquam id orci ut lectus varius viverra.`,\n  `Nullam nunc ex, convallis sed finibus eget, sollicitudin eget ante.`,\n  `Phasellus eros mauris, condimentum sed nibh vitae, sodales efficitur ipsum.`,\n  `Sed blandit, eros vel aliquam faucibus, purus ex euismod diam, eu luctus nunc ante ut dui.`,\n  `Sed sed nisi sed augue convallis suscipit in sed felis.`,\n  `Aliquam erat volutpat.`,\n  `Nunc fermentum tortor ac porta dapibus.`,\n  `In rutrum ac purus sit amet tempus.`\n];\n\nexport const GENRES = [\n  `Musical`,\n  `Western`,\n  `Drama`,\n  `Comedy`,\n  `Cartoon`,\n  `Mystery`,\n  `Film-Noir`\n];\n\nexport const AGES = [0, 6, 12, 16, 18];\n\nexport const MONTH_NAMES = [\n  `January`,\n  `February`,\n  `March`,\n  `April`,\n  `May`,\n  `June`,\n  `July`,\n  `August`,\n  `September`,\n  `October`,\n  `November`,\n  `December`,\n];\n\nexport const DIRECTORS = [\n  `Anthony Mann`,\n  `Steven Spielberg`,\n  `Martin Scorsese`,\n  `Ridley Scott`,\n  `John Woo`,\n  `Christopher Nolan`\n];\n\nexport const WRITERS = [\n  `Anne Wigton`,\n  `Heinz Herald`,\n  `Richard Weil`,\n  `Billy Wilder`,\n  `Ethan Coen and Joel Coen`,\n  `Robert Towne`,\n  `Quentin Tarantino`\n];\n\nexport const ACTORS = [\n  `Erich von Stroheim`,\n  `Mary Beth Hughes`,\n  `Dan Duryea`,\n  `Robert De Niro`,\n  `Jack Nicholson`,\n  `Marlon Brando`,\n  `Denzel Washington`\n];\n\nexport const COUNTRIES = [\n  `USA`,\n  `France`,\n  `Germany`,\n  `Italy`,\n  `Russia`,\n  `UK`,\n  `China`\n];\n\nexport const EMOTIONS = [\n  `angry.png`,\n  `puke.png`,\n  `sleeping.png`,\n  `smile.png`\n];\n\nexport const COMMENT_AUTHORS = [\n  `Tim Macoveev`,\n  `John Doe`,\n  `Bob Brown`,\n  `Mike Smith`\n];\n","import MainListFilmsComponent from '../components/main-list-films.js';\nimport TopRateFilmsComponent from '../components/top-rate-films.js';\nimport MostCommentedFilmsComponent from '../components/most-commented-films.js';\nimport FilmCardComponent from '../components/film-card.js';\nimport ShowMoreButtonComponent from '../components/show-more-button.js';\nimport FilmPopupComponent from '../components/film-popup.js';\nimport {render, remove} from '../utils/render.js';\n\nconst CARD_COUNT_ON_START = 5;\nconst CARD_COUNT_ON_CLICK = 5;\nconst TOP_CARD_COUNT = 2;\nconst MOST_CARD_COUNT = 2;\n\nconst renderFilm = (filmsListElement, film) => {\n  const escapeButtonHandler = (evt) => {\n    evt.preventDefault();\n\n    if (evt.key === `Esc` || evt.key === `Escape`) {\n      remove(filmPopupComponent);\n      document.removeEventListener(`keydown`, escapeButtonHandler);\n    }\n  };\n\n  const filmCardComponent = new FilmCardComponent(film);\n  const filmPopupComponent = new FilmPopupComponent(film);\n\n  filmCardComponent.setPosterClickhandler((evtPoster) => {\n    evtPoster.preventDefault();\n\n    filmPopupComponent.setCloseButtonClickHandler((evtCloseButton) => {\n      evtCloseButton.preventDefault();\n      remove(filmPopupComponent);\n    });\n    render(document.body, filmPopupComponent);\n    document.addEventListener(`keydown`, escapeButtonHandler);\n  });\n\n  render(filmsListElement, filmCardComponent);\n};\n\nexport default class PageController {\n  constructor(container) {\n    this._container = container;\n\n    this._mainListFilmsComponent = new MainListFilmsComponent();\n    this._topRateFilmsComponent = new TopRateFilmsComponent();\n    this._mostCommentedFilmsComponent = new MostCommentedFilmsComponent();\n    this._showMoreButtonComponent = new ShowMoreButtonComponent();\n  }\n\n  render(films) {\n    const container = this._container.getElement();\n\n    if (!films.length) {\n      render(container, new MainListFilmsComponent(false));\n\n      return;\n    }\n\n    const mainListFilmsComponent = new MainListFilmsComponent();\n    render(container, mainListFilmsComponent);\n\n    const mainListFilmsContainerElement = mainListFilmsComponent.getElement().querySelector(`.films-list__container`);\n\n    let filmToShowIndex = CARD_COUNT_ON_START;\n\n    films.slice(0, filmToShowIndex).forEach((it) => renderFilm(mainListFilmsContainerElement, it));\n\n    let shownFilmsCount = filmToShowIndex;\n\n    const showMoreButtonComponent = new ShowMoreButtonComponent();\n\n    render(container, showMoreButtonComponent);\n\n    showMoreButtonComponent.getElement().addEventListener(`click`, (evt) => {\n      evt.preventDefault();\n\n      filmToShowIndex = shownFilmsCount + CARD_COUNT_ON_CLICK;\n\n      films.slice(shownFilmsCount, filmToShowIndex).forEach((it) => renderFilm(mainListFilmsContainerElement, it));\n\n      shownFilmsCount = filmToShowIndex;\n\n      if (shownFilmsCount >= films.length) {\n        showMoreButtonComponent.getElement().remove();\n      }\n    });\n\n    const topRateFilmsComponent = new TopRateFilmsComponent();\n    render(container, topRateFilmsComponent);\n\n    const topRateContainerElement = topRateFilmsComponent.getElement().querySelector(`.films-list__container`);\n\n    films.slice().sort((a, b) => b.rating - a.rating).slice(0, TOP_CARD_COUNT).forEach((it) => renderFilm(topRateContainerElement, it));\n\n    const mostCommentedFilmsComponent = new MostCommentedFilmsComponent();\n    render(container, mostCommentedFilmsComponent);\n\n    const mostCommentedContainerElement = mostCommentedFilmsComponent.getElement().querySelector(`.films-list__container`);\n\n    films.slice().sort((a, b) => b.comments.length - a.comments.length).slice(0, MOST_CARD_COUNT).forEach((it) => renderFilm(mostCommentedContainerElement, it));\n  }\n}\n","import ProfileButtonComponent from './components/profile-button.js';\nimport SiteNavigationComponent from './components/site-navigation.js';\nimport SortComponent from './components/sort.js';\nimport ContentBoardComponent from './components/content-board.js';\nimport PageController from './controllers/page-controller.js';\nimport {generateUserRank} from './mock/user-rank.js';\nimport {generateFilmCards} from './mock/films.js';\nimport {render} from './utils/render.js';\n\nconst MAIN_CARD_COUNT = 22;\n\nconst siteHeaderElement = document.querySelector(`.header`);\nconst siteMainElement = document.querySelector(`.main`);\n\nrender(siteHeaderElement, new ProfileButtonComponent(generateUserRank()));\nrender(siteMainElement, new SiteNavigationComponent());\nrender(siteMainElement, new SortComponent());\n\nconst films = generateFilmCards(MAIN_CARD_COUNT);\n\nconst boardComponent = new ContentBoardComponent();\nconst pageController = new PageController(boardComponent);\n\nrender(siteMainElement, boardComponent);\npageController.render(films);\n","import {getRandomNumber, getRandomElementFromArray, getRandomCountOfElementsFromArray, getRandomDate} from '../utils/common.js';\nimport {GENRES, FILMS, DESCRIPTIONS, AGES, MONTH_NAMES, DIRECTORS, WRITERS, ACTORS, COUNTRIES, EMOTIONS, COMMENT_AUTHORS} from '../const.js';\n\nconst generateComments = (count) => {\n  return new Array(count).fill(``).map(() => {\n    return {\n      text: getRandomElementFromArray(DESCRIPTIONS),\n      emotion: getRandomElementFromArray(EMOTIONS),\n      author: getRandomElementFromArray(COMMENT_AUTHORS),\n      date: getRandomDate()\n    };\n  });\n};\n\nexport const generateFilmCard = () => {\n  const film = getRandomElementFromArray(FILMS);\n\n  return {\n    name: film.name,\n    src: film.src,\n    rating: getRandomNumber(0, 10, true).toFixed(1),\n    release: {\n      date: getRandomNumber(1, 30),\n      month: getRandomElementFromArray(MONTH_NAMES),\n      year: getRandomNumber(1900, 2020)\n    },\n    duration: getRandomNumber(25, 150),\n    genres: getRandomCountOfElementsFromArray(GENRES, getRandomNumber(1, 3)),\n    description: getRandomCountOfElementsFromArray(DESCRIPTIONS, getRandomNumber(1, 5)).join(` `),\n    comments: generateComments(getRandomNumber(0, 5)),\n    age: getRandomElementFromArray(AGES),\n    director: getRandomElementFromArray(DIRECTORS),\n    writers: getRandomCountOfElementsFromArray(WRITERS, 3),\n    actors: getRandomCountOfElementsFromArray(ACTORS, 3),\n    country: getRandomElementFromArray(COUNTRIES),\n  };\n};\n\nexport const generateFilmCards = (count) => {\n  return new Array(count).fill(``).map(generateFilmCard);\n};\n","import {getRandomNumber} from '../utils/common.js';\n\nexport const generateNavigationFilters = (filters) => {\n  return filters.map((it) => {\n    return {\n      name: it.name,\n      link: it.link,\n      count: getRandomNumber(0, 20)\n    };\n  });\n};\n","import {getRandomNumber} from '../utils/common.js';\n\nexport const generateUserRank = () => getRandomNumber(0, 30);\n","export const getRandomCountOfElementsFromArray = (array, count) => {\n  const arrayCopy = array.slice();\n  let resultArray = [];\n\n  for (let i = 0; i < count; i++) {\n    resultArray.push(...arrayCopy.splice(getRandomNumber(0, arrayCopy.length - 1), 1));\n  }\n\n  return resultArray;\n};\n\nexport const formatDuration = (duration) => {\n  let hours = Math.floor(duration / 60);\n  let minutes = duration % 60;\n\n  hours = hours ? `${hours}h` : ``;\n  minutes = minutes ? `${minutes}m` : ``;\n\n  return `${hours} ${minutes}`;\n};\n\nexport const getRandomNumber = (min, max, isReal = false) => {\n  let random = Math.random() * (max + 1 - min);\n  if (!isReal) {\n    random = Math.floor(random);\n  }\n\n  const result = min + random;\n\n  return result > max ? max : result;\n};\n\nexport const getRandomElementFromArray = (array) => {\n  return array[getRandomNumber(0, array.length - 1)];\n};\n\nexport const getRandomDate = () => {\n  const targetDate = new Date();\n\n  targetDate.setDate(targetDate.getDate() - getRandomNumber(0, 700));\n  targetDate.setHours(getRandomNumber(0, 23));\n  targetDate.setMinutes(getRandomNumber(0, 59));\n\n  return targetDate;\n};\n\nexport const formatDate = (date) => {\n  const hours = date.getHours() < 10 ? `0${date.getHours()}` : date.getHours();\n  const minutes = date.getMinutes() < 10 ? `0${date.getMinutes()}` : date.getMinutes();\n\n  return `${date.getFullYear()}/${date.getMonth()}/${date.getDate()} ${hours}:${minutes}`;\n};\n\nexport const createElement = (template) => {\n  const newElement = document.createElement(`div`);\n  newElement.innerHTML = template;\n\n  return newElement.firstChild;\n};\n\nexport const render = (container, element, position = `beforeend`) => {\n  switch (position) {\n    case `afterend`:\n      container.after(element);\n      break;\n\n    case `beforeend`:\n      container.append(element);\n      break;\n\n    case `afterbegin`:\n      container.prepend(element);\n      break;\n\n    default:\n      throw new Error(`Only 'afterend', 'beforeend' or 'afterbegin'.`);\n  }\n};\n","export const render = (container, component, position = `beforeend`) => {\n  switch (position) {\n    case `afterend`:\n      container.after(component.getElement());\n      break;\n\n    case `beforeend`:\n      container.append(component.getElement());\n      break;\n\n    case `afterbegin`:\n      container.prepend(component.getElement());\n      break;\n\n    default:\n      throw new Error(`Only 'afterend', 'beforeend' or 'afterbegin'.`);\n  }\n};\n\nexport const remove = (component) => {\n  component.getElement().remove();\n  component.removeElement();\n};\n"],"sourceRoot":""}